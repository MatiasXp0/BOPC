<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>For√ßa T√°tica ¬∑ Relat√≥rios</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #0b0b0e;
            color: #fff;
            padding: 16px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        /* Header estilo FT */
        .header {
            background: #1a1a24;
            border-radius: 12px;
            padding: 16px 20px;
            margin-bottom: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-left: 4px solid #ff4d4d;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
        }

        .header h1 {
            font-size: 1.4rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: #ff4d4d;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .header h1 span {
            background: #ff4d4d;
            color: #0b0b0e;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 700;
        }

        .data-hora {
            background: #252530;
            padding: 8px 16px;
            border-radius: 30px;
            font-size: 0.9rem;
            color: #ccc;
            border: 1px solid #333;
            display: flex;
            gap: 15px;
        }

        .data-hora strong {
            color: #ff4d4d;
            margin: 0 4px;
        }

        /* Barra de a√ß√£o r√°pida */
        .action-bar {
            display: flex;
            gap: 12px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .btn {
            padding: 12px 20px;
            border-radius: 8px;
            font-weight: 600;
            font-size: 0.9rem;
            cursor: pointer;
            border: none;
            transition: all 0.2s;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            text-decoration: none;
            background: #252530;
            color: #fff;
            border: 1px solid #333;
        }

        .btn-ft {
            background: #ff4d4d;
            color: #0b0b0e;
            border: none;
            font-weight: 700;
        }

        .btn-ft:hover {
            background: #ff6666;
            transform: translateY(-2px);
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(255,77,77,0.2);
        }

        /* Grid principal */
        .grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        /* Cards */
        .card {
            background: #14141c;
            border-radius: 12px;
            border: 1px solid #2a2a35;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        .card-header {
            background: #1e1e2a;
            padding: 16px;
            border-bottom: 2px solid #ff4d4d;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .card-header h2 {
            font-size: 1.2rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .card-header h2 .ft-badge {
            background: #ff4d4d;
            color: #0b0b0e;
            font-size: 0.7rem;
            padding: 2px 8px;
            border-radius: 20px;
            font-weight: 700;
        }

        /* Campos essenciais */
        .essenciais {
            padding: 16px;
            background: #0f0f15;
            border-bottom: 1px solid #2a2a35;
        }

        .campo {
            display: flex;
            margin-bottom: 12px;
            align-items: center;
        }

        .campo label {
            width: 130px;
            font-size: 0.85rem;
            font-weight: 600;
            color: #ff9999;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .campo input, .campo select {
            flex: 1;
            background: #1e1e2a;
            border: 1px solid #333;
            border-radius: 6px;
            padding: 10px 12px;
            color: #fff;
            font-size: 0.9rem;
            outline: none;
        }

        .campo input:focus, .campo select:focus {
            border-color: #ff4d4d;
        }

        .campo input::placeholder {
            color: #555;
        }

        /* Linha de hor√°rios - s√≥ no RSO */
        .horarios {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        .horario-item {
            flex: 1;
        }

        .horario-item label {
            display: block;
            color: #ff9999;
            font-size: 0.7rem;
            margin-bottom: 4px;
            text-transform: uppercase;
        }

        /* Ocorr√™ncias r√°pidas */
        .ocorrencias-rapidas {
            padding: 16px;
            border-bottom: 1px solid #2a2a35;
        }

        .ocorrencia-item {
            background: #1a1a24;
            border-radius: 8px;
            padding: 12px;
            margin-bottom: 10px;
            border-left: 3px solid #ff4d4d;
        }

        .ocorrencia-tipo {
            display: flex;
            gap: 10px;
            margin-bottom: 10px;
        }

        .ocorrencia-tipo select, .ocorrencia-tipo input {
            background: #252530;
            border: 1px solid #333;
            border-radius: 4px;
            padding: 6px 10px;
            color: #fff;
            font-size: 0.85rem;
        }

        .ocorrencia-tipo select {
            width: 140px;
        }

        .ocorrencia-tipo input {
            flex: 1;
        }

        .btn-add {
            background: #252530;
            border: 1px dashed #ff4d4d;
            width: 100%;
            padding: 12px;
            border-radius: 8px;
            color: #ff9999;
            font-weight: 500;
            cursor: pointer;
            margin-top: 10px;
            text-align: center;
        }

        /* Material apreendido */
        .material-rapido {
            padding: 16px;
            background: #0f0f15;
            border-top: 1px solid #2a2a35;
        }

        .material-linha {
            display: flex;
            gap: 10px;
            margin-bottom: 8px;
        }

        .material-linha input {
            background: #1e1e2a;
            border: 1px solid #333;
            border-radius: 4px;
            padding: 8px;
            color: #fff;
        }

        .material-linha input:first-child {
            width: 80px;
            text-align: center;
        }

        .material-linha input:last-child {
            flex: 1;
        }

        /* Footer */
        footer {
            text-align: center;
            color: #444;
            font-size: 0.8rem;
            margin-top: 30px;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header FT com data/hora autom√°tica -->
        <div class="header">
            <h1>
                ‚ö° FOR√áA T√ÅTICA 
                <span>1¬™ CIA</span>
            </h1>
            <div class="data-hora">
                <span>üìÖ <strong id="dataAtual">--/--/----</strong></span>
                <span>‚è∞ <strong id="horaAtual">--:--</strong></span>
            </div>
        </div>

        <!-- A√ß√µes -->
        <div class="action-bar">
            <button class="btn btn-ft" onclick="enviarRSO()">
                ü§ñ RSO ‚Üí ChatGPT
            </button>
            <button class="btn btn-ft" onclick="enviarBOPM()">
                ü§ñ BOPM ‚Üí ChatGPT
            </button>
            <button class="btn" onclick="gerarPDF()">
                üìÑ PDF
            </button>
            <a href="https://saghatz.github.io/Calculadora_Penal_ABCD/" target="_blank" class="btn">
                ‚öñÔ∏è CALCULADORA
            </a>
        </div>

        <!-- Grid -->
        <div class="grid">
            <!-- RSO CARD -->
            <div class="card">
                <div class="card-header">
                    <h2>
                        üö® RSO ¬∑ FOR√áA T√ÅTICA
                        <span class="ft-badge">PREENCHER</span>
                    </h2>
                </div>
                
                <!-- Campos essenciais RSO -->
                <div class="essenciais">
                    <div class="campo">
                        <label>PREFIXO</label>
                        <input type="text" id="rsoPrefixo" placeholder="ex: FT-011" value="M-07011">
                    </div>
                    <div class="campo">
                        <label>COMANDO DE BARCA</label>
                        <input type="text" id="rsoChefe" placeholder="@ ou nome">
                    </div>
                    <div class="campo">
                        <label>MOTORISTA</label>
                        <input type="text" id="rsoMotorista" placeholder="@ ou nome">
                    </div>
                    <div class="campo">
                        <label>3¬∞ HOMEM</label>
                        <input type="text" id="rsoTerceiro" placeholder="@ ou nome">
                    </div>
                    <div class="campo">
                        <label>4¬∞ HOMEM</label>
                        <input type="text" id="rsoQuarto" placeholder="@ ou nome (opcional)">
                    </div>
                    
                    <!-- Hor√°rios - s√≥ no RSO -->
                    <div style="margin-top: 15px;">
                        <div style="color:#ff9999; font-size:0.8rem; margin-bottom:8px;">‚è∞ HOR√ÅRIOS</div>
                        <div class="horarios">
                            <div class="horario-item">
                                <label>IN√çCIO</label>
                                <input type="time" id="rsoInicio" value="22:40" style="width:100%; background:#1e1e2a; border:1px solid #333; border-radius:6px; padding:10px; color:#fff;">
                            </div>
                            <div class="horario-item">
                                <label>T√âRMINO</label>
                                <input type="time" id="rsoTermino" value="01:26" style="width:100%; background:#1e1e2a; border:1px solid #333; border-radius:6px; padding:10px; color:#fff;">
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Ocorr√™ncias r√°pidas -->
                <div class="ocorrencias-rapidas">
                    <div style="color:#ff9999; font-size:0.8rem; margin-bottom:10px;">üö® OCORR√äNCIAS</div>
                    <div id="rsoOcorrencias">
                        <div class="ocorrencia-item">
                            <div class="ocorrencia-tipo">
                                <select>
                                    <option>TIPO</option>
                                    <option selected>ACOMPANHAMENTO</option>
                                    <option>CONFRONTO</option>
                                    <option>FURTO</option>
                                    <option>ROUBO</option>
                                    <option>TR√ÅFICO</option>
                                </select>
                                <input type="text" placeholder="breve descri√ß√£o" value="CG 150 / fuga a p√©">
                            </div>
                            <input type="text" placeholder="material apreendido" value="04 FURADEIRAS" style="width:100%; background:#252530; border:1px solid #333; border-radius:4px; padding:6px; color:#fff;">
                        </div>
                    </div>
                    <div class="btn-add" onclick="adicionarOcorrencia()">
                        + ADICIONAR OCORR√äNCIA
                    </div>
                </div>

                <!-- Material apreendido no RSO -->
                <div class="material-rapido">
                    <div style="color:#ff9999; font-size:0.8rem; margin-bottom:10px;">üì¶ MATERIAL APREENDIDO (RSO)</div>
                    <div id="rsoMaterialLista">
                        <div class="material-linha">
                            <input type="number" placeholder="qtde" value="4">
                            <input type="text" placeholder="item" value="FURADEIRAS">
                        </div>
                    </div>
                    <div class="btn-add" onclick="adicionarMaterialRSO()">
                        + ADICIONAR ITEM NO RSO
                    </div>
                </div>
            </div>

            <!-- BOPM CARD -->
            <div class="card">
                <div class="card-header">
                    <h2>
                        üìÑ BOPM ¬∑ FOR√áA T√ÅTICA
                        <span class="ft-badge">PREENCHER</span>
                    </h2>
                </div>

                <!-- Campos essenciais BOPM -->
                <div class="essenciais">
                    <div class="campo">
                        <label>VIATURA</label>
                        <input type="text" id="bopmViatura" value="M-07011">
                    </div>
                    <div class="campo">
                        <label>LOCAL</label>
                        <input type="text" id="bopmLocal" placeholder="endere√ßo completo">
                    </div>
                    <div class="campo">
                        <label>COMANDO DE BARCA</label>
                        <input type="text" id="bopmChefe" placeholder="@ ou nome">
                    </div>
                    <div class="campo">
                        <label>MOTORISTA</label>
                        <input type="text" id="bopmMotorista" placeholder="@ ou nome">
                    </div>
                    <div class="campo">
                        <label>3¬∞ HOMEM</label>
                        <input type="text" id="bopmTerceiro" placeholder="@ ou nome">
                    </div>
                    <div class="campo">
                        <label>4¬∞ HOMEM</label>
                        <input type="text" id="bopmQuarto" placeholder="@ ou nome (opcional)">
                    </div>
                </div>

                <!-- Relato r√°pido -->
                <div style="padding:16px;">
                    <textarea id="bopmRelato" rows="4" style="width:100%; background:#1e1e2a; border:1px solid #333; border-radius:6px; padding:12px; color:#fff; font-family:'Courier New'; resize:vertical;" placeholder="RELATO R√ÅPIDO ...">Durante patrulhamento, visualizamos CG 150 em atitude suspeita. Condutor fugiu, abandonou ve√≠culo, localizado 04 furadeiras. Indiv√≠duo preso.</textarea>
                </div>

                <!-- Artigos e QSJ -->
                <div style="padding:0 16px 16px;">
                    <div style="display:flex; gap:10px; margin-bottom:10px;">
                        <input type="text" id="bopmArtigos" placeholder="artigos (ex: 15,33,157)" style="flex:1; background:#1e1e2a; border:1px solid #333; border-radius:4px; padding:8px; color:#fff;">
                        <input type="text" id="bopmQsj" placeholder="valor QSJ R$" style="width:120px; background:#1e1e2a; border:1px solid #333; border-radius:4px; padding:8px; color:#fff;">
                    </div>
                </div>

                <!-- Material r√°pido BOPM -->
                <div class="material-rapido">
                    <div style="color:#ff9999; font-size:0.8rem; margin-bottom:10px;">üì¶ MATERIAL APREENDIDO (BOPM)</div>
                    <div id="bopmMaterialLista">
                        <div class="material-linha">
                            <input type="number" placeholder="qtde" value="4">
                            <input type="text" placeholder="item" value="FURADEIRAS">
                        </div>
                    </div>
                    <div class="btn-add" onclick="adicionarMaterialBOPM()">
                        + ADICIONAR ITEM NO BOPM
                    </div>
                </div>
            </div>
        </div>

        <!-- Status -->
        <div style="background:#1a1a24; border-radius:8px; padding:12px; border-left:4px solid #ff4d4d; color:#ccc; font-size:0.9rem; margin-top:10px;">
            ‚ö° FOR√áA T√ÅTICA ¬∑
        </div>

        <footer>
            For√ßa T√°tica ‚Äì Pol√≠cia Militar do Estado de S√£o Paulo
        </footer>
    </div>

    <script>
        // Data/hora autom√°tica
        function atualizarDataHora() {
            const agora = new Date();
            document.getElementById('dataAtual').textContent = agora.toLocaleDateString('pt-BR');
            document.getElementById('horaAtual').textContent = agora.toLocaleTimeString('pt-BR', { hour: '2-digit', minute: '2-digit' });
        }
        setInterval(atualizarDataHora, 1000);
        atualizarDataHora();

        // Adicionar ocorr√™ncia no RSO
        function adicionarOcorrencia() {
            const div = document.createElement('div');
            div.className = 'ocorrencia-item';
            div.innerHTML = `
                <div class="ocorrencia-tipo">
                    <select>
                        <option>TIPO</option>
                        <option>ACOMPANHAMENTO</option>
                        <option>CONFRONTO</option>
                        <option>FURTO</option>
                        <option>ROUBO</option>
                        <option>TR√ÅFICO</option>
                    </select>
                    <input type="text" placeholder="breve descri√ß√£o">
                </div>
                <input type="text" placeholder="material apreendido" style="width:100%; background:#252530; border:1px solid #333; border-radius:4px; padding:6px; color:#fff;">
            `;
            document.getElementById('rsoOcorrencias').appendChild(div);
        }

        // Adicionar material no RSO
        function adicionarMaterialRSO() {
            const div = document.createElement('div');
            div.className = 'material-linha';
            div.innerHTML = `
                <input type="number" placeholder="qtde">
                <input type="text" placeholder="item">
            `;
            document.getElementById('rsoMaterialLista').appendChild(div);
        }

        // Adicionar material no BOPM
        function adicionarMaterialBOPM() {
            const div = document.createElement('div');
            div.className = 'material-linha';
            div.innerHTML = `
                <input type="number" placeholder="qtde">
                <input type="text" placeholder="item">
            `;
            document.getElementById('bopmMaterialLista').appendChild(div);
        }

        // Coletar dados do RSO
        function coletarRSO() {
            let ocorrencias = [];
            document.querySelectorAll('#rsoOcorrencias .ocorrencia-item').forEach(item => {
                const selects = item.querySelectorAll('select');
                const inputs = item.querySelectorAll('input');
                if (inputs[0]?.value || inputs[1]?.value) {
                    ocorrencias.push({
                        tipo: selects[0]?.value || 'N√ÉO INFORMADO',
                        descricao: inputs[0]?.value || '',
                        material: inputs[1]?.value || ''
                    });
                }
            });

            let materiais = [];
            document.querySelectorAll('#rsoMaterialLista .material-linha').forEach(item => {
                const inputs = item.querySelectorAll('input');
                if (inputs[0]?.value && inputs[1]?.value) {
                    materiais.push(`${inputs[0].value}x ${inputs[1].value}`);
                }
            });

            return {
                prefixo: document.getElementById('rsoPrefixo').value,
                chefe: document.getElementById('rsoChefe').value,
                motorista: document.getElementById('rsoMotorista').value,
                terceiro: document.getElementById('rsoTerceiro').value,
                quarto: document.getElementById('rsoQuarto').value,
                inicio: document.getElementById('rsoInicio').value,
                termino: document.getElementById('rsoTermino').value,
                ocorrencias: ocorrencias,
                materiais: materiais
            };
        }

        // Coletar dados do BOPM
        function coletarBOPM() {
            let materiais = [];
            document.querySelectorAll('#bopmMaterialLista .material-linha').forEach(item => {
                const inputs = item.querySelectorAll('input');
                if (inputs[0]?.value && inputs[1]?.value) {
                    materiais.push(`${inputs[0].value}x ${inputs[1].value}`);
                }
            });

            return {
                viatura: document.getElementById('bopmViatura').value,
                local: document.getElementById('bopmLocal').value,
                chefe: document.getElementById('bopmChefe').value,
                motorista: document.getElementById('bopmMotorista').value,
                terceiro: document.getElementById('bopmTerceiro').value,
                quarto: document.getElementById('bopmQuarto').value,
                relato: document.getElementById('bopmRelato').value,
                artigos: document.getElementById('bopmArtigos').value,
                qsj: document.getElementById('bopmQsj').value,
                materiais: materiais
            };
        }

        // Enviar RSO para ChatGPT
        function enviarRSO() {
            const dados = coletarRSO();
            
            let prompt = `VOC√ä √â UM REDATOR DA FOR√áA T√ÅTICA - GTA RP

Complete este RSO com formata√ß√£o PROFISSIONAL. Se faltar algo, PERGUNTE.

PREFIXO: ${dados.prefixo || 'N√ÉO INFORMADO'}
COMANDO DE BARCA: ${dados.chefe || 'N√ÉO INFORMADO'}
MOTORISTA: ${dados.motorista || 'N√ÉO INFORMADO'}
3¬∞ HOMEM: ${dados.terceiro || 'N√ÉO INFORMADO'}
4¬∞ HOMEM: ${dados.quarto || 'N√ÉO INFORMADO'}
IN√çCIO: ${dados.inicio || 'N√ÉO INFORMADO'}
T√âRMINO: ${dados.termino || 'N√ÉO INFORMADO'}

OCORR√äNCIAS:`;

            if (dados.ocorrencias.length === 0) {
                prompt += `\nNenhuma ocorr√™ncia informada`;
            } else {
                dados.ocorrencias.forEach((occ, i) => {
                    prompt += `\n${i+1}. ${occ.tipo} - ${occ.descricao} | Material: ${occ.material}`;
                });
            }

            prompt += `\n\nMATERIAL APREENDIDO TOTAL:`;
            if (dados.materiais.length === 0) {
                prompt += `\nNenhum material informado`;
            } else {
                dados.materiais.forEach(mat => {
                    prompt += `\n‚Ä¢ ${mat}`;
                });
            }

            prompt += `\n\nREGRAS:
1. Formatar como RSO da FOR√áA T√ÅTICA
2. Se faltar PREFIXO ou MEMBROS, PERGUNTE
3. Se faltar hor√°rio de T√âRMINO, PERGUNTE
4. Se material n√£o tiver quantidade, PERGUNTE
5. Use ‚ïê‚ïê‚ïê‚ïê‚ïê para separar se√ß√µes
6. Inclua MATERIAL APREENDIDO no final
7. DATA deve ser ${document.getElementById('dataAtual').textContent}`;

            window.open(`https://chat.openai.com/?prompt=${encodeURIComponent(prompt)}`, '_blank');
        }

        // Enviar BOPM para ChatGPT
        function enviarBOPM() {
            const dados = coletarBOPM();
            
            let prompt = `VOC√ä √â UM REDATOR DA FOR√áA T√ÅTICA - BOPM

Complete este BOLETIM DE OCORR√äNCIA com formata√ß√£o PROFISSIONAL.

VIATURA: ${dados.viatura}
LOCAL: ${dados.local || 'N√ÉO INFORMADO'}
COMANDO DE BARCA: ${dados.chefe || 'N√ÉO INFORMADO'}
MOTORISTA: ${dados.motorista || 'N√ÉO INFORMADO'}
3¬∞ HOMEM: ${dados.terceiro || 'N√ÉO INFORMADO'}
4¬∞ HOMEM: ${dados.quarto || 'N√ÉO INFORMADO'}

RELATO:
${dados.relato}

ARTIGOS MENCIONADOS: ${dados.artigos || 'NENHUM'}
QSJ: R$ ${dados.qsj || '0,00'}

MATERIAIS:
${dados.materiais.join('\n') || 'NENHUM INFORMADO'}

DATA: ${document.getElementById('dataAtual').textContent}
HORA ATUAL: ${document.getElementById('horaAtual').textContent}

REGRAS:
1. Formatar BOPM da FOR√áA T√ÅTICA
2. Se faltar LOCAL ou MEMBROS DA EQUIPE, PERGUNTE
3. Artigos: Se citaram 289 (dinheiro), confirme se mant√©m
4. Se artigo parecer errado pro jogo, PERGUNTE
5. Estrutura: DATA | LOCAL | VIATURA | EQUIPE | RELATO | ENQUADRAMENTO | MATERIAL | CONCLUS√ÉO`;

            window.open(`https://chat.openai.com/?prompt=${encodeURIComponent(prompt)}`, '_blank');
        }

        // Gerar PDF
        function gerarPDF() {
            const rso = coletarRSO();
            const bopm = coletarBOPM();
            
            const conteudo = `
FOR√áA T√ÅTICA ¬∑ RASCUNHO
Data: ${document.getElementById('dataAtual').textContent} - ${document.getElementById('horaAtual').textContent}

‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê RSO ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
Prefixo: ${rso.prefixo}
Comando: ${rso.chefe}
Motorista: ${rso.motorista}
3¬∞ Homem: ${rso.terceiro}
4¬∞ Homem: ${rso.quarto}
In√≠cio: ${rso.inicio} | T√©rmino: ${rso.termino}

Ocorr√™ncias:
${rso.ocorrencias.map((o,i)=>`${i+1}. ${o.tipo} - ${o.descricao} (${o.material})`).join('\n') || 'Nenhuma'}

Materiais RSO:
${rso.materiais.join('\n') || 'Nenhum'}

‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê BOPM ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
Viatura: ${bopm.viatura}
Local: ${bopm.local}
Comando: ${bopm.chefe}
Motorista: ${bopm.motorista}
3¬∞ Homem: ${bopm.terceiro}
4¬∞ Homem: ${bopm.quarto}

Relato: ${bopm.relato}
Artigos: ${bopm.artigos}
QSJ: R$ ${bopm.qsj}
Materiais BOPM: ${bopm.materiais.join(' | ') || 'Nenhum'}
            `;

            const janela = window.open('', '_blank');
            janela.document.write(`
                <pre style="font-family: monospace; padding: 20px; background: #0b0b0e; color: #fff; font-size:14px;">${conteudo}</pre>
                <script>window.onload=()=>window.print()<\/script>
            `);
        }
    </script>
</body>
</html>

